{"version":3,"sources":["../../src/js/login.js"],"names":["Register","document","querySelector","Login","BtnRegister","BtnLogin","loginAlert","toggleForm","classList","toggle","hideLoginAlert","add","showLoginAlert","content","succes","remove","textContent","getFormData","inputFields","querySelectorAll","formData","forEach","inputField","name","value","handleLoginRequest","event","request","target","readyState","response","JSON","parse","responseText","status","error","login","preventDefault","XMLHttpRequest","addEventListener","open","setRequestHeader","send","stringify","console","log","register"],"mappings":"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","sourcesContent":["const Register = document.querySelector('.Form-register');\nconst Login = document.querySelector('.Form-login');\nconst BtnRegister = document.querySelector('#Register');\nconst BtnLogin = document.querySelector('#Login');\nconst loginAlert = document.querySelector('.login-alert');\n\nfunction toggleForm() {\n  Register.classList.toggle('inactive');\n  Login.classList.toggle('inactive');\n}\n\nfunction hideLoginAlert() {\n  loginAlert.classList.add('inactive');\n}\n\nfunction showLoginAlert(content, succes = false) {\n  if (succes) {\n    loginAlert.classList.add('success');\n  } else {\n    loginAlert.classList.remove('success');\n  }\n  loginAlert.textContent = content;\n  loginAlert.classList.remove('inactive');\n}\n\nfunction getFormData() {\n  const inputFields = Login.querySelectorAll('input');\n  const formData = {};\n  inputFields.forEach(function (inputField) {\n    formData[inputField.name] = inputField.value;\n  });\n  return formData;\n\n}\n\nfunction handleLoginRequest(event) {\n  const request = event.target;\n  if (request.readyState === 4) {\n    const response = JSON.parse(request.responseText);\n    if (request.status >= 200 && request.status < 300) {\n      showLoginAlert('joepie je bent ingelogd', true);\n    } else if (request.status === 401) {\n      showLoginAlert(response.error);\n    }\n  }\n}\n\nfunction login(event) {\n  event.preventDefault();\n  const formData = getFormData(Login);\n  const request = new XMLHttpRequest();\n  request.addEventListener('readystatechange', handleLoginRequest);\n  request.open('POST', 'http://connect4.pienter.space/api/auth/login');\n  request.setRequestHeader('Content-Type', 'application/json');\n  request.send(JSON.stringify(formData));\n  console.log(formData);\n}\n\nfunction register(event) {\n  event.preventDefault();\n  const formData = getFormData(register);\n  const request = new XMLHttpRequest();\n  request.addEventListener('readystatechange', function () {\n    console.log(event);\n  });\n  request.open('POST', 'connect4.pienter.space/api/auth/register');\n  request.setRequestHeader('Content-Type', 'application/json');\n  request.send(JSON.stringify(formData));\n  console.log(formData);\n}\n\n\nBtnRegister.addEventListener('click', toggleForm);\nBtnLogin.addEventListener('click', toggleForm);\nLogin.addEventListener('submit', login);\nRegister.addEventListener('submit', register);\nLogin.addEventListener('input', hideLoginAlert);\n"],"file":"login.js"}